<!DOCTYPE html>
<html lang="it">
<head>
    <link rel="icon" href="data:,">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>United-and-Close - Area Personale</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="../public/css/style.css">
    <link rel="stylesheet" href="../public/css/spiderChartStyle.css">
    <link rel="stylesheet" href="../public/css/searchStyle.css">
    <link rel="stylesheet" href="../public/css/personalStyle.css">
</head>

<body>
<div id="navbar-container"></div>

<!-- SE AUTENTICATO -->

<!-- Bottone logout -->
<div id="logout-container" class="position-fixed" style="top: 70px; right: 20px; z-index: 1040; display: none;">
    <button class="btn btn-outline-danger" type="button" id="logout-btn">
        <i class="bi bi-box-arrow-right me-1"></i>
        Logout
    </button>
</div>

<!-- Welcome -->
<div id="welcome-section" class="text-center py-3" style="display: none; margin-top: 100px;">
    <i class="bi bi-person-check-circle text-primary" style="font-size: 3rem;"></i>
    <h4 class="mt-2 text-primary" id="welcome-message"></h4>
</div>

<!-- velocitÃ  e modalita selezionate -->
<div id="travel-settings-display" class="text-center py-3" style="display: none; margin-top: 20px;">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-body">
                        <h6 class="card-title text-primary mb-3">
                            <i class="bi bi-gear me-2"></i>
                            Current Travel Settings
                        </h6>
                        <div class="row">
                            <div class="col-6">
                                <div class="d-flex align-items-center justify-content-center">
                                    <i class="bi bi-clock me-2 text-muted"></i>
                                    <span id="selected-time" class="fw-bold">15 min</span>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="d-flex align-items-center justify-content-center">
                                    <i class="bi bi-person-walking me-2 text-muted"></i>
                                    <span id="selected-mode" class="fw-bold">Walking</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- servizi selezionati -->
<div id="selected-services-center" class="text-center py-4" style="display: none; margin-top: 20px;">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <h5 class="mb-3 text-primary">
                    <i class="bi bi-list-check me-2"></i>
                    Selected Services
                </h5>
                <div class="selected-services-center border rounded" style="background-color: #f8f9fa; min-height: 80px;">
                    <p class="text-muted text-center mb-0">
                        <i class="bi bi-info-circle me-2"></i>
                        Selected services will appear here
                    </p>
                </div>
                <!-- Bottone per modificare impostazioni -->
                <div class="mt-4">
                    <button class="btn btn-outline-primary" type="button" id="change-settings-btn">
                        <i class="bi bi-gear me-2"></i>
                        Change Favorite Settings
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Sidebar impostazioni -->
<div id="settings-section" class="overlay-sidebar" style="display: none;">
    <div class="sidebar-content">
        <div class="p-4">
            <div class="mb-4">
                <label class="form-label">Select time and mode of travel</label>
                <div class="inline-group mb-2">
                    <select class="form-select time-select">
                        <option>5 min</option>
                        <option>10 min</option>
                        <option selected>15 min</option>
                        <option>20 min</option>
                    </select>
                    <div class="btn-group">
                        <button type="button" class="btn btn-outline-primary active">
                            <i class="bi bi-person-walking icon-color"></i>
                        </button>
                        <button type="button" class="btn btn-outline-primary">
                            <i class="fa-solid fa-person-walking-with-cane icon-color"></i>
                        </button>
                        <button type="button" class="btn btn-outline-primary">
                            <i class="bi bi-bicycle icon-color"></i>
                        </button>
                        <button type="button" class="btn btn-outline-primary">
                            <i class="bi bi-train-front icon-color"></i>
                        </button>
                    </div>
                </div>
            </div>

            <div class="mb-4">
                <label class="form-label">Select services to be displayed in the area</label>
                <div class="d-flex justify-content-between align-items-center mb-2">
                    <button class="btn btn-outline-primary btn-sm" type="button" id="select-all-categories">
                        <i class="fas fa-square"></i> Select All Categories
                    </button>
                </div>
                <div class="light-gray-container" style="max-height: 600px; overflow-y: auto;">
                    <div class="pointOfInterest-container" id="services-container"></div>
                </div>
            </div>

            <div class="d-flex justify-content-center">
                <button class="btn custom-primary small-btn" type="button" id="save-settings-btn">Save Settings</button>
            </div>
        </div>
    </div>
</div>

<!-- SE NON AUTENTICATO -->

<!-- Pulsanti login/registrazione -->
<div id="auth-buttons" class="text-center py-5" style="margin-top: 100px;">
    <i class="bi bi-person-circle text-muted" style="font-size: 4rem;"></i>
    <h4 class="mt-3 text-muted">Login or Register</h4>
    <p class="text-muted">Choose how you want to proceed to access your personal area.</p>
    <div class="d-grid gap-3 d-md-block">
        <button class="btn btn-primary btn-lg me-2" type="button" id="show-login-btn">
            <i class="bi bi-box-arrow-in-right me-2"></i>
            Login
        </button>
        <button class="btn btn-outline-primary btn-lg" type="button" id="show-register-btn">
            <i class="bi bi-person-plus me-2"></i>
            Register
        </button>
    </div>
</div>

<!-- Login Form -->
<div id="login-form" class="card mx-auto" style="display: none; max-width: 400px; margin-top: 100px;">
    <div class="card-body">
        <h4 class="card-title text-center mb-4">
            <i class="bi bi-box-arrow-in-right me-2"></i>
            Login
        </h4>
        <form id="login-form-element">
            <div class="mb-3">
                <label for="login-email" class="form-label">Email</label>
                <input type="email" class="form-control" id="login-email" required>
            </div>
            <div class="mb-3">
                <label for="login-password" class="form-label">Password</label>
                <input type="password" class="form-control" id="login-password" required>
            </div>
            <div class="d-grid gap-2">
                <button type="submit" class="btn btn-primary">
                    <i class="bi bi-box-arrow-in-right me-2"></i>
                    Login
                </button>
                <button type="button" class="btn btn-outline-secondary" id="back-to-buttons">
                    <i class="bi bi-arrow-left me-2"></i>
                    Back
                </button>
            </div>
        </form>
        <div id="login-error" class="alert alert-danger mt-3" style="display: none;"></div>
    </div>
</div>

<!-- Register Form -->
<div id="register-form" class="card mx-auto" style="display: none; max-width: 400px; margin-top: 100px;">
    <div class="card-body">
        <h4 class="card-title text-center mb-4">
            <i class="bi bi-person-plus me-2"></i>
            Register
        </h4>
        <form id="register-form-element">
            <div class="mb-3">
                <label for="register-email" class="form-label">Email</label>
                <input type="email" class="form-control" id="register-email" required>
            </div>
            <div class="mb-3">
                <label for="register-password" class="form-label">Password</label>
                <input type="password" class="form-control" id="register-password" required>
            </div>
            <div class="d-grid gap-2">
                <button type="submit" class="btn btn-primary">
                    <i class="bi bi-person-plus me-2"></i>
                    Register
                </button>
                <button type="button" class="btn btn-outline-secondary" id="back-to-buttons-register">
                    <i class="bi bi-arrow-left me-2"></i>
                    Back
                </button>
            </div>
        </form>
        <div id="register-error" class="alert alert-danger mt-3" style="display: none;"></div>
        <div id="register-success" class="alert alert-success mt-3" style="display: none;"></div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://kit.fontawesome.com/081eecd135.js" crossorigin="anonymous"></script>

<script type="module" src="../public/js/components/ServiceCategory.js"></script>
<script type="module" src="../public/js/personal.js"></script>
<script src="/public/js/navbar.js?v=2.0"></script>
<script src="/public/js/auth.js?v=1.0"></script>
</body>
</html>
